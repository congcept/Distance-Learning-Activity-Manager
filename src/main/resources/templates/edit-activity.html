<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Edit Activity</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
    <div class="container">
        <div th:replace="~{fragments :: header(backLink=@{/activities(courseId=${courseId})})}"></div>
        <h2>Edit Activity</h2>

        <form method="post" th:action="@{/edit-activity}" enctype="multipart/form-data">
            <input type="hidden" name="courseId" th:value="${courseId}">
            <input type="hidden" name="activityId" th:value="${activity.id}">

            Title: <input type="text" name="title" th:value="${activity.title}" required><br><br>
            Description:<br>
            <textarea name="description" rows="5" cols="50" th:text="${activity.description}"></textarea><br><br>

            Due date: <input type="date" name="dueDate" th:value="${activity.dueDate}"><br><br>

            <div th:if="${activity.filePath != null}">
                Current Attachment: <span th:text="${activity.originalFilename}">filename</span><br>
                <small>Upload a new file to replace the current one.</small><br>
            </div>
            <div th:if="${activity.filePath == null}">
                Attachment:
            </div>
            <input type="file" name="file"><br><br>

            <input type="checkbox" name="singleSubmission" value="true" th:checked="${activity.singleSubmission}">
            Single
            Submission Only<br><br>

            <button type="submit">Save Changes</button>
        </form>
    </div>
</body>

</html>